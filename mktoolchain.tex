	\secru{Сборка собственного тулчайна из исходников}

\cp{\url{http://gnutoolchains.com/building/}}

\cp{\url{https://github.com/ponyatov/clock/blob/master/Makefile}}

Если хочестся странного, например иметь самый свежий набор пакетов разработки,
скомпилированный с оптимизацией под ваш рабочий компьютер (\file{\$HOST}),
можно поставить пакет MinGW+MSYS, и собрать свой собственный пакет компиляторов
и утилит.

\bigskip
Этот раздел появился после того, как выяснилось что тулчейн Yagarto
протух\footnote{отладчик \gdb\ не цеплялся за симулятор qemu-arm}, а другие
готовые бинарные тулчейны под Windows или еще больше устарели, или (частично) 
платные, или обрезанные, или требуют регистрации (CodeSourcery Lite).

\bigskip
\alarm{Компиляция длится долго, требует достаточно мощного компьютера
(прежде всего объема ОЗУ), и отсутствия боязни командной строки.}

Из плюсов: оптимизация под ваш компьютер, возможность собрать версию gcc
посвежее с новыми плюшками (оптимизаторами, поддержкой новых чипов, и расширений
языка), и независимость от стороннего сборщика.
\bigskip

В простейшем случае требуется подкорректировать \file{toolchain/Makefile},
обратив особое внимание на первые строки \makefile, в которых задаются целевая
платформа, название тулчейна, и \alarm{целевой каталог установки}\ в нотации
MSYS. Также важный момент\ --- опции сборки пакетов, приписываются в середине
\makefile, но высока вероятность что вам захочется там что-то (аккуратно)
изменить.

\bigskip\lstinputlisting[style=mk,title=toolchain/Makefile]{tmp/toolchain.mk}

\bigskip
\menu{запустить MSYS>\file{/MinGW/msys/1.0/msys.bat}}

\bigskip
\alarm{Все команды выполнять из под MSYS если не указано обратное}
\bigskip

\menu{\file{cd /c/ARM/book/toolchain}}

Зачистить временные и целевые каталоги, скачать исходники (приличный объем,
$\sim$100 Mb):

\menu{\file{make distclean gz}}

Собрать BINUTILS (ассемблер, линкер и т.п.)

\menu{\file{make binutils}}

