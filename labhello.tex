
\labwork{Hello World}\label{labhello}

Для начала нужно рассмотреть набор файлов минимального проекта:

\begin{itemize}

\item \file{README.txt}

Краткая информация о проекте\ --- название, авторы, обязательно ссылки на
\git-репозиторий, сайт, форум, и т.п.
 
\item \file{Makefile}

Файл с описанием зависимостей между файлами, настройками проекта (в переменных)
и правилами вызова компиляторов.

\item \file{startup.S}

Стартовый код процессора, включает инициализацию системы тактирования, мапинга
памяти, контроллера прерываний и минимальную инциализацию периферии.
Пишется на ассемблере, т.к. на Си получается слишком сложно, синтаксически
запутанно, или очень специфично для компилятора.

\item \file{init.c}

Сишный код инициализации железа (синтаксически легче описать блоки кода,
зависимые от целевого процессора).

\item \file{main.c}

Основной код, решающий поставленную задачу. 

\item \file{\$CPU.ld}

Скрипт линкера, настраивающий генерацию выходного бинарного файла в 
зависимости от целевого процессора\ --- прежде всего организация памяти,
и размещение сегментов кода/данных по фактическим адресам памяти.
Поэтому здесь имя файла задано через переменную, описанную в \makefile.

\item \file{generic.ld}

Скрипт линкера, содержащий общую часть для всех микроконтроллеров

\end{itemize}

\bigskip Создаем эти файлы аналогично \makefile\ в \labref{labmkmake}:

\bigskip\menu{\eclipse>\window{Project Explorer}>\file{hello}>\rms>New>File>File
name:>\file{НужныйФайл.xxx}}

\lstinputlisting[inputencoding=cp1251,title=README.txt]{hello/README.txt}

\lstinputlisting[style=asm,inputencoding=cp1251,title=startup.S]{hello/startup.S}

\lstinputlisting[style=cpp,inputencoding=cp1251,title=init.c]{hello/init.c}

\lstinputlisting[style=cpp,inputencoding=cp1251,title=main.c]{hello/main.c}

\lstinputlisting[style=gnuld,inputencoding=cp1251,title=arm7tdmi.ld]{hello/arm7tdmi.ld}
